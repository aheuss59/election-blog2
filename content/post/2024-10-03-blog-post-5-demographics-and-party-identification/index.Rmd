---
title: 'Blog Post 5: Demographics and Party Identification'
author: Alex Heuss
date: '2024-10-03'
slug: blog-post-5-demographics-and-party-identification
categories: []
tags: []
---

```{r, load packages}
library(tidyverse)
```

## Discussion of the Predicitive Power of Demographics and Party ID

In class this week, we discussed the power of demographic variables in predicting election outcomes. The paper we read this week, la la la la la, provided some empirical evidence that demographic data can predict vote choice with an accuracy of approximately 63%

## Thinking About Party ID

Historical data on state-level partisan identification is not readily available. National-level party identification data can be compiled through Pew Research Center data (1939-2014). [find through 2024]. 

State-level data however is not as easily obtained

```{r, echo=FALSE, message=FALSE}
nat_pop <- read_csv("data/popvote_1948_2020.csv")
nat_party <- read_csv("data/national_party_id.csv") |>
  mutate(swing1 = percent - year_prior,
         swing1_2p = two_party_percent - year_prior_2p) |>
  arrange(year) |>
  group_by(party) |>
  mutate(prior_election = lag(percent, 1),
         prior_election_2p = lag(two_party_percent, 1),
         swing4 = percent - prior_election, 
         swing4_2p = two_party_percent - prior_election_2p)
nat_data <- 
  nat_pop |>
  left_join(nat_party, by = c("year", "party"))
         
```

```{r, echo=FALSE, message=FALSE}
nat_data |>
  mutate(Party = ifelse(party == "democrat", "Democrat", "Republican")) |>
  ggplot(aes(x = swing1, y = pv, color = Party)) +
  geom_point(color = "darkgray") + 
  geom_smooth(method = "lm", se=FALSE) + 
  scale_color_manual(values = c("#00AEF3", "#E81B23")) + 
  facet_wrap(~ Party) + 
  labs(x = "Change in Party ID Between the Year Prior to the Election and Election Year",
       y = "Popular Vote Share (%)",
       title = "Party ID Shifts and Presidential Popular Vote Share") + 
  theme_bw() + 
  theme(legend.position = "none")

```


```{r}
# Ask about different methods of estimating Party-ID for each state
# we can use the voter files for 2024
# you can try to look for a historical data set for party
# to weight party ID you can train a model only on party ID and then use ensembling
# super learning would helo make weights that empirically are better worse
```

## Building a State-Level Model and Explaining Decisions and Assumptions

```{r, load in and wrangle state level data into the proper format}
# Ask about a proper format
```

```{r, imputing missing values and setting up for models}
# Ask about value imputation and what assumptions follow when we impute values
# state's historical deviation from national popular vote or from total outcome
# could create a separate model for states without polling

```

```{r, modeling}
# Does it make sense to actually run each state's regression model separately or does that reduce the statistical power of results too much? 
# When I use random forest, does that actually make a model that I could then hypothetically use to bootstrap a bunch of election simulations
# A lot of my theory revolves around weighting partisan ID really high, how exactly can I incorporate that into the model?
# Is there anyway to make it so that when it predicts Dems and Reps it won't be more than 100 or should I re-weight based on percentage (ex. Harris at 52 and Trump at 50, then Harris % of pop vote is 52/102)

# People usually do simulationd for values of the polls
# the bootstrap in gov51 is different than what we do here

```
